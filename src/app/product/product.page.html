<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>{{ product?.name || 'Detalles del Producto' }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- Mensaje de error -->
  <ion-item *ngIf="error" color="danger">
    <ion-label class="ion-text-center">{{ error }}</ion-label>
  </ion-item>

  <!-- Detalles del producto -->
  <div *ngIf="product && !error" class="product-container">
    <ion-img 
      [src]="product.image_url" 
      class="product-image"
      *ngIf="product.image_url">
    </ion-img>

    <div class="product-details ion-padding">
      <h1>{{ product.name }}</h1>
      <h2 class="price">{{ product.price | currency:'USD':'symbol':'1.0-2' }}</h2>
      
      <ion-chip [color]="product.stock > 0 ? 'success' : 'danger'">
        {{ product.stock > 0 ? product.stock + ' unidades disponibles' : 'Agotado' }}
      </ion-chip>

      <p class="description">{{ product.description }}</p>

      <ion-button 
        expand="block" 
        (click)="buyProduct()"
        [disabled]="product.stock <= 0"
        class="buy-button">
        <ion-icon name="cart" slot="start"></ion-icon>
        Comprar
      </ion-button>
    </div>
  </div>
</ion-content>
